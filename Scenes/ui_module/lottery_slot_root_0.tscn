[gd_scene load_steps=45 format=3 uid="uid://basts7bbr2vav"]

[ext_resource type="Script" uid="uid://38yoddm0uptn" path="res://scripts/ui/components/lottery_slot_ui.gd" id="1_1b0mf"]
[ext_resource type="Texture2D" uid="uid://cpcef3r3dbaxq" path="res://assets/sprites/lottery_slots/基地-7.png" id="2_gntc1"]
[ext_resource type="Script" uid="uid://rg8ahiwfwlxb" path="res://scripts/ui/utils/slot_background_color_setter.gd" id="3_ba2ho"]
[ext_resource type="Texture2D" uid="uid://b3avhgwq0587y" path="res://assets/sprites/lottery_slots/基地-1.png" id="4_662jj"]
[ext_resource type="Texture2D" uid="uid://dpnahy8wmkeso" path="res://assets/sprites/lottery_slots/基地-2.png" id="5_drypt"]
[ext_resource type="Texture2D" uid="uid://fjhknpwtlo4g" path="res://assets/sprites/lottery_slots/基地-3.png" id="6_7fxrg"]
[ext_resource type="Texture2D" uid="uid://cyuji8mwm0rx8" path="res://assets/sprites/lottery_slots/基地-4.png" id="7_yj02r"]
[ext_resource type="Texture2D" uid="uid://nju4di4bai4r" path="res://assets/sprites/icons/items/item_shape_centered.png" id="8_arr72"]
[ext_resource type="Texture2D" uid="uid://bw28ks8t1otq" path="res://assets/sprites/circle.png" id="9_arr72"]
[ext_resource type="Texture2D" uid="uid://b4cuujipxrcyu" path="res://assets/sprites/lottery_slots/lottery_slot_lid_fill.png" id="10_4aaut"]
[ext_resource type="Texture2D" uid="uid://bclpcjghycqdb" path="res://assets/sprites/the_machine_switch/Recycle_icon.png" id="10_gntc1"]
[ext_resource type="Shader" uid="uid://ddbschtplfiqo" path="res://assets/shaders/silhouette.gdshader" id="10_yj02r"]
[ext_resource type="Texture2D" uid="uid://bv1rbyc0706kq" path="res://assets/sprites/icons/items/items_icon_centered.png" id="11_o6rv1"]
[ext_resource type="Texture2D" uid="uid://u8vv873f380j" path="res://assets/sprites/lottery_slots/lottery_slot_lid_outline.png" id="12_p4alg"]
[ext_resource type="Texture2D" uid="uid://fnqmsybn8c5r" path="res://assets/sprites/lottery_slots/基地-6.png" id="13_r08pi"]
[ext_resource type="Texture2D" uid="uid://dhd8bxltte0u1" path="res://assets/sprites/lottery_slots/基地-8.png" id="14_ktq0d"]
[ext_resource type="Texture2D" uid="uid://ju74ng2iyhft" path="res://assets/sprites/item_slots/小杆子.png" id="15_7fxrg"]
[ext_resource type="Texture2D" uid="uid://law2mtdijaeb" path="res://assets/sprites/lottery_slots/基地-11.png" id="15_do7yb"]
[ext_resource type="Texture2D" uid="uid://c17ii0rmjfv1n" path="res://assets/sprites/lottery_slots/基地-13.png" id="16_l1p8v"]
[ext_resource type="Texture2D" uid="uid://djd0iqblhln2k" path="res://assets/sprites/icons/upgrade_icon.png" id="16_yj02r"]
[ext_resource type="Texture2D" uid="uid://cvippngwe8h8x" path="res://assets/sprites/icons/category_circle.png" id="17_4aaut"]
[ext_resource type="Texture2D" uid="uid://jirxtbdwgrjx" path="res://assets/sprites/icons/tick_green.png" id="17_g23h7"]
[ext_resource type="Texture2D" uid="uid://bh2rrdftruk78" path="res://assets/sprites/lottery_slots/基地-12.png" id="18_yfao2"]
[ext_resource type="Texture2D" uid="uid://430ts7sfdtgx" path="res://assets/sprites/lottery_slots/基地-10.png" id="19_a03mu"]
[ext_resource type="FontFile" uid="uid://km27dcqqdsfq" path="res://assets/fonts/ark-pixel-12px-monospaced-zh_cn.ttf" id="20_3gq3c"]
[ext_resource type="Texture2D" uid="uid://ddmgresex11px" path="res://assets/sprites/icons/money.png" id="20_ihuts"]
[ext_resource type="Texture2D" uid="uid://grqi0oqjnrae" path="res://assets/sprites/the_machine/the_machine_description_display_outline.png" id="21_4kg5p"]
[ext_resource type="Texture2D" uid="uid://cyo0chqrqd6p7" path="res://assets/sprites/the_machine/the_machine_description_display_fill.png" id="22_dg1ni"]
[ext_resource type="Script" uid="uid://d4mtxu0sy02g6" path="res://scripts/ui/utils/rich_text_auto_scaler.gd" id="26_o6rv1"]

[sub_resource type="AtlasTexture" id="AtlasTexture_o6rv1"]
atlas = ExtResource("8_arr72")
region = Rect2(1500, 1500, 500, 500)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_gntc1"]
shader = ExtResource("10_yj02r")
shader_parameter/silhouette_color = Color(0, 0, 0, 1)
shader_parameter/is_enabled = false
shader_parameter/saturation = 1.0

[sub_resource type="AtlasTexture" id="AtlasTexture_arr72"]
atlas = ExtResource("11_o6rv1")
region = Rect2(1000, 2000, 500, 500)

[sub_resource type="AtlasTexture" id="AtlasTexture_4aaut"]
atlas = ExtResource("8_arr72")
region = Rect2(1000, 1000, 500, 500)

[sub_resource type="Shader" id="Shader_yj02r"]
code = "shader_type canvas_item;

uniform float scanline_count : hint_range(0, 1800) = 50.0;
uniform float scanline_alpha : hint_range(0, 1) = 0.5;
uniform float scanline_speed : hint_range(-10.0, 10.0) = 1.0;  // New: Speed of scanline movement

uniform float vignette_intensity : hint_range(0, 5) = 0.4;
uniform float screen_curvature : hint_range(0, 0.1) = 0.05;

uniform float jitter_intensity : hint_range(0, 0.1) = 0.0; // New: Jitter amount
uniform float noise_intensity : hint_range(0, 1) = 0.0;     // New: Static noise amount

// Helper function for pseudo-random numbers
float random(vec2 uv) {
    return fract(sin(dot(uv.xy, vec2(12.9898,78.233))) * 43758.5453123);
}

void fragment() {
	vec2 uv = UV;
	
	// 1. Screen Curvature / Warp
	// Distort UVs from center
	vec2 center = vec2(0.5, 0.5);
	vec2 offset = uv - center;
	float dist_sq = dot(offset, offset);
	// Basic barrel distortion
	vec2 warped_uv = uv + offset * (dist_sq * screen_curvature);
	
	// If warped UV is outside [0,1], discard or mask (optional, but for overlay we might just want to let it vignette)
	
	// 2. Jitter
	// Offset warped_uv slightly based on time
	float time_step = floor(TIME * 60.0); // Jitter at 60fps intervals
	vec2 jitter_offset = vec2(
		random(vec2(time_step, 1.0)) - 0.5,
		random(vec2(time_step, 2.0)) - 0.5
	) * jitter_intensity;
	
	// Apply jitter to the texture look-up UVs (if we were warping the underlying texture)
	// But since we are an OVERLAY, we aren't distorting the underlying texture directly unless we use SCREEN_TEXTURE.
	// However, this shader is applied to a ColorRect on TOP of content.
	// Standard approach for overlay is to just draw effects over the top.
	// IF we want to distort the underlying text, we would need to use a BackBufferCopy or Screen reading shader.
	// Given the instructions (\"add visual effects... to these screens\"), and previous setup involving ColorRect overlay:
	// Let's stick to generating effects *on top* that simulate imperfections, 
	// rather than warping the actual game text (which is safer for readability).
	// BUT, \"Curvature\" usually implies geometric distortion.
	// Since we are just a ColorRect overlay, we can use the curvature to curve the SCANLINES and VIGNETTE.
	
	// Use warped_uv for generating scanlines/vignette to match the curved look
	
	// 3. Scanlines with Roll
	// Use warped_uv.y + TIME for movement
	float scanline = sin((warped_uv.y + TIME * scanline_speed * 0.01) * scanline_count * 3.14159 * 2.0);
	scanline = (scanline + 1.0) * 0.5;
	
	// 4. White Noise
	float noise_val = random(warped_uv + vec2(TIME, TIME));
	
	// 5. Vignette (using warped coords)
	float vig_dist = length(warped_uv - center);
	float vig = smoothstep(0.4, 0.4 + 0.3, vig_dist) * vignette_intensity;

	// Compose Color
	// Start with black
	vec3 dark_color = vec3(0.0);
	
	// Scanlines darken the screen
	float sl_alpha = scanline * scanline_alpha;
	
	// Jitter effect on overlay: random flashes or horizontal offsets?
	// Let's do a horizontal \"tearing\" scanline occasionall?
	// Or just keep it simple: Jitter shifts the scanlines slightly.
	
	// Update alpha
	float final_alpha = sl_alpha + vig;
	
	// Add noise (whitening)
	vec3 noise_color = vec3(noise_val);
	// Noise adds to color, doesn't just alpha blend black
	
	// Output
	// We mix black overlay (scanlines/vignette) with white noise.
	// This is an overlay, so COLOR.a determines how much we darken/lighten.
	// Darkening: (0,0,0, alpha)
	// Lightening: (1,1,1, alpha)
	// We want mostly darkening, but noise adds light.
	
	COLOR.rgb = noise_color * noise_intensity;
	COLOR.a = clamp(final_alpha + (noise_val * noise_intensity * 0.1), 0.0, 1.0);
}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_o6rv1"]
shader = SubResource("Shader_yj02r")
shader_parameter/scanline_count = 60.00000285
shader_parameter/scanline_alpha = 0.15
shader_parameter/scanline_speed = 4.000000665
shader_parameter/vignette_intensity = 0.4
shader_parameter/screen_curvature = 0.05
shader_parameter/jitter_intensity = 0.002
shader_parameter/noise_intensity = 0.05

[sub_resource type="Shader" id="Shader_rqxoj"]
code = "shader_type canvas_item;

uniform float scanline_count : hint_range(0, 1800) = 50.0;
uniform float scanline_alpha : hint_range(0, 1) = 0.5;
uniform float scanline_speed : hint_range(-10.0, 10.0) = 1.0;  // New: Speed of scanline movement

uniform float vignette_intensity : hint_range(0, 5) = 0.4;
uniform float screen_curvature : hint_range(0, 0.1) = 0.05;

uniform float jitter_intensity : hint_range(0, 0.1) = 0.0; // New: Jitter amount
uniform float noise_intensity : hint_range(0, 1) = 0.0;     // New: Static noise amount

// Helper function for pseudo-random numbers
float random(vec2 uv) {
    return fract(sin(dot(uv.xy, vec2(12.9898,78.233))) * 43758.5453123);
}

void fragment() {
	vec2 uv = UV;
	
	// 1. Screen Curvature / Warp
	// Distort UVs from center
	vec2 center = vec2(0.5, 0.5);
	vec2 offset = uv - center;
	float dist_sq = dot(offset, offset);
	// Basic barrel distortion
	vec2 warped_uv = uv + offset * (dist_sq * screen_curvature);
	
	// If warped UV is outside [0,1], discard or mask (optional, but for overlay we might just want to let it vignette)
	
	// 2. Jitter
	// Offset warped_uv slightly based on time
	float time_step = floor(TIME * 60.0); // Jitter at 60fps intervals
	vec2 jitter_offset = vec2(
		random(vec2(time_step, 1.0)) - 0.5,
		random(vec2(time_step, 2.0)) - 0.5
	) * jitter_intensity;
	
	// Apply jitter to the texture look-up UVs (if we were warping the underlying texture)
	// But since we are an OVERLAY, we aren't distorting the underlying texture directly unless we use SCREEN_TEXTURE.
	// However, this shader is applied to a ColorRect on TOP of content.
	// Standard approach for overlay is to just draw effects over the top.
	// IF we want to distort the underlying text, we would need to use a BackBufferCopy or Screen reading shader.
	// Given the instructions (\"add visual effects... to these screens\"), and previous setup involving ColorRect overlay:
	// Let's stick to generating effects *on top* that simulate imperfections, 
	// rather than warping the actual game text (which is safer for readability).
	// BUT, \"Curvature\" usually implies geometric distortion.
	// Since we are just a ColorRect overlay, we can use the curvature to curve the SCANLINES and VIGNETTE.
	
	// Use warped_uv for generating scanlines/vignette to match the curved look
	
	// 3. Scanlines with Roll
	// Use warped_uv.y + TIME for movement
	float scanline = sin((warped_uv.y + TIME * scanline_speed * 0.01) * scanline_count * 3.14159 * 2.0);
	scanline = (scanline + 1.0) * 0.5;
	
	// 4. White Noise
	float noise_val = random(warped_uv + vec2(TIME, TIME));
	
	// 5. Vignette (using warped coords)
	float vig_dist = length(warped_uv - center);
	float vig = smoothstep(0.4, 0.4 + 0.3, vig_dist) * vignette_intensity;

	// Compose Color
	// Start with black
	vec3 dark_color = vec3(0.0);
	
	// Scanlines darken the screen
	float sl_alpha = scanline * scanline_alpha;
	
	// Jitter effect on overlay: random flashes or horizontal offsets?
	// Let's do a horizontal \"tearing\" scanline occasionall?
	// Or just keep it simple: Jitter shifts the scanlines slightly.
	
	// Update alpha
	float final_alpha = sl_alpha + vig;
	
	// Add noise (whitening)
	vec3 noise_color = vec3(noise_val);
	// Noise adds to color, doesn't just alpha blend black
	
	// Output
	// We mix black overlay (scanlines/vignette) with white noise.
	// This is an overlay, so COLOR.a determines how much we darken/lighten.
	// Darkening: (0,0,0, alpha)
	// Lightening: (1,1,1, alpha)
	// We want mostly darkening, but noise adds light.
	
	COLOR.rgb = noise_color * noise_intensity;
	COLOR.a = clamp(final_alpha + (noise_val * noise_intensity * 0.1), 0.0, 1.0);
}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_d80ls"]
shader = SubResource("Shader_rqxoj")
shader_parameter/scanline_count = 20.00000095
shader_parameter/scanline_alpha = 0.15
shader_parameter/scanline_speed = 10.0
shader_parameter/vignette_intensity = 0.4
shader_parameter/screen_curvature = 0.05
shader_parameter/jitter_intensity = 0.002
shader_parameter/noise_intensity = 0.05

[sub_resource type="Theme" id="Theme_uwqtw"]

[sub_resource type="Shader" id="Shader_d80ls"]
code = "shader_type canvas_item;

uniform float scanline_count : hint_range(0, 1800) = 50.0;
uniform float scanline_alpha : hint_range(0, 1) = 0.5;
uniform float scanline_speed : hint_range(-10.0, 10.0) = 1.0;  // New: Speed of scanline movement

uniform float vignette_intensity : hint_range(0, 5) = 0.4;
uniform float screen_curvature : hint_range(0, 0.1) = 0.05;

uniform float jitter_intensity : hint_range(0, 0.1) = 0.0; // New: Jitter amount
uniform float noise_intensity : hint_range(0, 1) = 0.0;     // New: Static noise amount

// Helper function for pseudo-random numbers
float random(vec2 uv) {
    return fract(sin(dot(uv.xy, vec2(12.9898,78.233))) * 43758.5453123);
}

void fragment() {
	vec2 uv = UV;
	
	// 1. Screen Curvature / Warp
	// Distort UVs from center
	vec2 center = vec2(0.5, 0.5);
	vec2 offset = uv - center;
	float dist_sq = dot(offset, offset);
	// Basic barrel distortion
	vec2 warped_uv = uv + offset * (dist_sq * screen_curvature);
	
	// If warped UV is outside [0,1], discard or mask (optional, but for overlay we might just want to let it vignette)
	
	// 2. Jitter
	// Offset warped_uv slightly based on time
	float time_step = floor(TIME * 60.0); // Jitter at 60fps intervals
	vec2 jitter_offset = vec2(
		random(vec2(time_step, 1.0)) - 0.5,
		random(vec2(time_step, 2.0)) - 0.5
	) * jitter_intensity;
	
	// Apply jitter to the texture look-up UVs (if we were warping the underlying texture)
	// But since we are an OVERLAY, we aren't distorting the underlying texture directly unless we use SCREEN_TEXTURE.
	// However, this shader is applied to a ColorRect on TOP of content.
	// Standard approach for overlay is to just draw effects over the top.
	// IF we want to distort the underlying text, we would need to use a BackBufferCopy or Screen reading shader.
	// Given the instructions (\"add visual effects... to these screens\"), and previous setup involving ColorRect overlay:
	// Let's stick to generating effects *on top* that simulate imperfections, 
	// rather than warping the actual game text (which is safer for readability).
	// BUT, \"Curvature\" usually implies geometric distortion.
	// Since we are just a ColorRect overlay, we can use the curvature to curve the SCANLINES and VIGNETTE.
	
	// Use warped_uv for generating scanlines/vignette to match the curved look
	
	// 3. Scanlines with Roll
	// Use warped_uv.y + TIME for movement
	float scanline = sin((warped_uv.y + TIME * scanline_speed * 0.01) * scanline_count * 3.14159 * 2.0);
	scanline = (scanline + 1.0) * 0.5;
	
	// 4. White Noise
	float noise_val = random(warped_uv + vec2(TIME, TIME));
	
	// 5. Vignette (using warped coords)
	float vig_dist = length(warped_uv - center);
	float vig = smoothstep(0.4, 0.4 + 0.3, vig_dist) * vignette_intensity;

	// Compose Color
	// Start with black
	vec3 dark_color = vec3(0.0);
	
	// Scanlines darken the screen
	float sl_alpha = scanline * scanline_alpha;
	
	// Jitter effect on overlay: random flashes or horizontal offsets?
	// Let's do a horizontal \"tearing\" scanline occasionall?
	// Or just keep it simple: Jitter shifts the scanlines slightly.
	
	// Update alpha
	float final_alpha = sl_alpha + vig;
	
	// Add noise (whitening)
	vec3 noise_color = vec3(noise_val);
	// Noise adds to color, doesn't just alpha blend black
	
	// Output
	// We mix black overlay (scanlines/vignette) with white noise.
	// This is an overlay, so COLOR.a determines how much we darken/lighten.
	// Darkening: (0,0,0, alpha)
	// Lightening: (1,1,1, alpha)
	// We want mostly darkening, but noise adds light.
	
	COLOR.rgb = noise_color * noise_intensity;
	COLOR.a = clamp(final_alpha + (noise_val * noise_intensity * 0.1), 0.0, 1.0);
}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_7jhwx"]
shader = SubResource("Shader_d80ls")
shader_parameter/scanline_count = 60.00000285
shader_parameter/scanline_alpha = 0.15
shader_parameter/scanline_speed = 4.000000665
shader_parameter/vignette_intensity = 0.4
shader_parameter/screen_curvature = 0.05
shader_parameter/jitter_intensity = 0.002
shader_parameter/noise_intensity = 0.05

[sub_resource type="Animation" id="Animation_jptrp"]
length = 0.001
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Lottery Slot_mask/Lottery Slot_lid:position:y")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}

[sub_resource type="Animation" id="Animation_7v8nc"]
resource_name = "lid_close"
length = 0.5
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Lottery Slot_mask/Lottery Slot_lid:position:y")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(3, 0),
"points": PackedFloat32Array(-555.25, -0.275, -19.74878, 0.275, 19.74878, 0, -0.3333333, -32.805782, 0, -365.75992),
"times": PackedFloat32Array(0, 0.5)
}

[sub_resource type="Animation" id="Animation_00smp"]
resource_name = "lid_open"
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Lottery Slot_mask/Lottery Slot_lid:position:y")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 2),
"points": PackedFloat32Array(0, -0.25, 0, 0.41666666, -23.013014, -555.25, -0.39999998, -6.3652954, 0, 0),
"times": PackedFloat32Array(0, 1)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_7v8nc"]
_data = {
&"RESET": SubResource("Animation_jptrp"),
&"lid_close": SubResource("Animation_7v8nc"),
&"lid_open": SubResource("Animation_00smp")
}

[node name="Lottery Slot_root_0" type="Control"]
layout_mode = 3
anchors_preset = 0
script = ExtResource("1_1b0mf")

[node name="Lottery Slot_mask" type="Sprite2D" parent="."]
clip_children = 2
texture = ExtResource("2_gntc1")
offset = Vector2(3.105, 23.865)

[node name="Lottery Slot_backgrounds" type="Node2D" parent="Lottery Slot_mask"]
script = ExtResource("3_ba2ho")
color = Color(0.10980392, 0.654902, 0.91764706, 1)

[node name="Slot_background_side" type="Sprite2D" parent="Lottery Slot_mask/Lottery Slot_backgrounds"]
modulate = Color(0.10980392, 0.654902, 0.91764706, 1)
position = Vector2(466, 8)
texture = ExtResource("4_662jj")

[node name="Slot_background_wall" type="Sprite2D" parent="Lottery Slot_mask/Lottery Slot_backgrounds"]
modulate = Color(0.10980392, 0.654902, 0.91764706, 1)
position = Vector2(-274, -258)
texture = ExtResource("5_drypt")

[node name="Slot_background_floor" type="Sprite2D" parent="Lottery Slot_mask/Lottery Slot_backgrounds"]
modulate = Color(0.10980392, 0.654902, 0.91764706, 1)
position = Vector2(-36, 461)
texture = ExtResource("6_7fxrg")

[node name="Slot_background_outline" type="Sprite2D" parent="Lottery Slot_mask/Lottery Slot_backgrounds"]
position = Vector2(-60, 33)
texture = ExtResource("7_yj02r")

[node name="Lottery Slot_item_root" type="Node2D" parent="Lottery Slot_mask"]
position = Vector2(-23, 61.75)

[node name="Item_queue_2" type="Sprite2D" parent="Lottery Slot_mask/Lottery Slot_item_root"]
position = Vector2(-207, -19)
scale = Vector2(0.75, 0.75)
texture = SubResource("AtlasTexture_o6rv1")

[node name="Item_shadow" type="Sprite2D" parent="Lottery Slot_mask/Lottery Slot_item_root/Item_queue_2"]
self_modulate = Color(0, 0, 0, 0.39215687)
show_behind_parent = true
position = Vector2(6.000001, 164)
scale = Vector2(0.6, 0.1)
texture = ExtResource("9_arr72")

[node name="Item_queue_1" type="Sprite2D" parent="Lottery Slot_mask/Lottery Slot_item_root"]
position = Vector2(-116, 7)
scale = Vector2(0.75, 0.75)
texture = SubResource("AtlasTexture_o6rv1")

[node name="Item_shadow" type="Sprite2D" parent="Lottery Slot_mask/Lottery Slot_item_root/Item_queue_1"]
self_modulate = Color(0, 0, 0, 0.39215687)
show_behind_parent = true
position = Vector2(6.000001, 164)
scale = Vector2(0.6, 0.1)
texture = ExtResource("9_arr72")

[node name="Item_main" type="Sprite2D" parent="Lottery Slot_mask/Lottery Slot_item_root"]
material = SubResource("ShaderMaterial_gntc1")
texture = SubResource("AtlasTexture_arr72")

[node name="Item_shadow" type="Sprite2D" parent="Lottery Slot_mask/Lottery Slot_item_root/Item_main"]
self_modulate = Color(0, 0, 0, 0.39215687)
show_behind_parent = true
position = Vector2(6.000001, 164)
scale = Vector2(0.6, 0.1)
texture = ExtResource("9_arr72")

[node name="Item_hover_icon" type="Sprite2D" parent="Lottery Slot_mask/Lottery Slot_item_root/Item_main"]
visible = false
texture = ExtResource("10_gntc1")

[node name="Item_status_LR" type="Sprite2D" parent="Lottery Slot_mask"]
position = Vector2(213, 345)
texture = ExtResource("17_g23h7")
offset = Vector2(0.5, -110)

[node name="pole" type="Sprite2D" parent="Lottery Slot_mask/Item_status_LR"]
show_behind_parent = true
position = Vector2(0, -62.305)
texture = ExtResource("15_7fxrg")

[node name="Item_upgradeable_UR" type="Sprite2D" parent="Lottery Slot_mask"]
position = Vector2(212, -335)
texture = ExtResource("16_yj02r")
offset = Vector2(-0.5, 152)

[node name="pole" type="Sprite2D" parent="Lottery Slot_mask/Item_upgradeable_UR"]
show_behind_parent = true
position = Vector2(0, 102.99999)
rotation = -3.1415927
texture = ExtResource("15_7fxrg")

[node name="Lottery Slot_lid" type="Sprite2D" parent="Lottery Slot_mask"]
self_modulate = Color(0.09803922, 0.6117647, 0.5019608, 1)
texture = ExtResource("10_4aaut")
offset = Vector2(0, -87.65)

[node name="Lottery Slot_lid_icon" type="Sprite2D" parent="Lottery Slot_mask/Lottery Slot_lid"]
self_modulate = Color(0.09803922, 0.6117647, 0.5019608, 1)
position = Vector2(-11, -0.99999976)
texture = ExtResource("17_4aaut")

[node name="Lottery Pool Name_label" type="RichTextLabel" parent="Lottery Slot_mask/Lottery Slot_lid"]
visible = false
offset_left = -281.0
offset_top = -228.0
offset_right = 256.0
offset_bottom = -170.0
mouse_filter = 2
theme_override_font_sizes/normal_font_size = 41
bbcode_enabled = true
text = "POOL_NAME"
scroll_active = false
vertical_alignment = 1

[node name="Lottery Slot_lid_outline" type="Sprite2D" parent="Lottery Slot_mask/Lottery Slot_lid"]
self_modulate = Color(0.09803922, 0.6117647, 0.5019608, 1)
texture = ExtResource("12_p4alg")
offset = Vector2(-4.45, 67.34)

[node name="Lottery Slot_lid_psudo" type="Sprite2D" parent="Lottery Slot_mask/Lottery Slot_lid"]
self_modulate = Color(0.09803922, 0.6117647, 0.5019608, 1)
position = Vector2(0, -550)
texture = ExtResource("10_4aaut")
offset = Vector2(0, -87.65)

[node name="Lottery Slot_lid_icon" type="Sprite2D" parent="Lottery Slot_mask/Lottery Slot_lid/Lottery Slot_lid_psudo"]
self_modulate = Color(0.09803922, 0.6117647, 0.5019608, 1)
position = Vector2(-11, -1)
texture = ExtResource("17_4aaut")

[node name="Lottery Pool Name_label" type="RichTextLabel" parent="Lottery Slot_mask/Lottery Slot_lid/Lottery Slot_lid_psudo"]
visible = false
offset_left = -281.0
offset_top = -228.0
offset_right = 256.0
offset_bottom = -170.0
mouse_filter = 2
theme_override_font_sizes/normal_font_size = 41
bbcode_enabled = true
text = "POOL_NAME"
scroll_active = false
vertical_alignment = 1

[node name="Lottery Slot_lid_outline" type="Sprite2D" parent="Lottery Slot_mask/Lottery Slot_lid/Lottery Slot_lid_psudo"]
self_modulate = Color(0.09803922, 0.6117647, 0.5019608, 1)
texture = ExtResource("12_p4alg")
offset = Vector2(-4.45, 71.995)

[node name="Lottery Slot_outline" type="Sprite2D" parent="."]
modulate = Color(0.08235294, 0.5254902, 0.43529412, 1)
position = Vector2(23, 42)
texture = ExtResource("13_r08pi")

[node name="Shadow" type="Sprite2D" parent="Lottery Slot_outline"]
position = Vector2(-1, 0)
texture = ExtResource("14_ktq0d")

[node name="Lottery Slot_right_screen" type="Sprite2D" parent="."]
self_modulate = Color(0.08235294, 0.5254902, 0.43529412, 1)
position = Vector2(434, 39)
texture = ExtResource("16_l1p8v")

[node name="Lottery Slot_right_screen_fill" type="Sprite2D" parent="Lottery Slot_right_screen"]
modulate = Color(0.61960787, 0.9137255, 0.40392157, 1)
show_behind_parent = true
clip_children = 2
position = Vector2(-9, -9)
texture = ExtResource("15_do7yb")

[node name="Lottery Required Items Icon Grid" type="VBoxContainer" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill"]
offset_left = -83.0
offset_top = -287.75
offset_right = 59.0
offset_bottom = 282.25
mouse_filter = 2
theme_override_constants/separation = -35

[node name="Item Icon_0" type="TextureRect" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill/Lottery Required Items Icon Grid"]
layout_mode = 2
mouse_filter = 2
texture = SubResource("AtlasTexture_4aaut")
expand_mode = 5

[node name="Item Icon_status" type="TextureRect" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill/Lottery Required Items Icon Grid/Item Icon_0"]
layout_mode = 0
offset_left = 97.0
offset_top = 75.75
offset_right = 137.4762
offset_bottom = 115.75
mouse_filter = 2
texture = ExtResource("17_g23h7")
expand_mode = 3

[node name="Item Icon_1" type="TextureRect" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill/Lottery Required Items Icon Grid"]
layout_mode = 2
mouse_filter = 2
texture = SubResource("AtlasTexture_4aaut")
expand_mode = 5

[node name="Item Icon_status" type="TextureRect" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill/Lottery Required Items Icon Grid/Item Icon_1"]
layout_mode = 0
offset_left = 97.0
offset_top = 75.75
offset_right = 137.4762
offset_bottom = 115.75
mouse_filter = 2
texture = ExtResource("17_g23h7")
expand_mode = 3

[node name="Item Icon_2" type="TextureRect" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill/Lottery Required Items Icon Grid"]
layout_mode = 2
mouse_filter = 2
texture = SubResource("AtlasTexture_4aaut")
expand_mode = 5

[node name="Item Icon_status" type="TextureRect" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill/Lottery Required Items Icon Grid/Item Icon_2"]
layout_mode = 0
offset_left = 97.0
offset_top = 75.75
offset_right = 137.4762
offset_bottom = 115.75
mouse_filter = 2
texture = ExtResource("17_g23h7")
expand_mode = 3

[node name="Item Icon_3" type="TextureRect" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill/Lottery Required Items Icon Grid"]
layout_mode = 2
mouse_filter = 2
texture = SubResource("AtlasTexture_4aaut")
expand_mode = 5

[node name="Item Icon_status" type="TextureRect" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill/Lottery Required Items Icon Grid/Item Icon_3"]
layout_mode = 0
offset_left = 97.0
offset_top = 75.75
offset_right = 137.4762
offset_bottom = 115.75
mouse_filter = 2
texture = ExtResource("17_g23h7")
expand_mode = 3

[node name="Item Icon_4" type="TextureRect" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill/Lottery Required Items Icon Grid"]
layout_mode = 2
mouse_filter = 2
texture = SubResource("AtlasTexture_4aaut")
expand_mode = 5

[node name="Item Icon_status" type="TextureRect" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill/Lottery Required Items Icon Grid/Item Icon_4"]
layout_mode = 0
offset_left = 97.0
offset_top = 75.75
offset_right = 137.4762
offset_bottom = 115.75
mouse_filter = 2
texture = ExtResource("17_g23h7")
expand_mode = 3

[node name="Lottery Required Items Icon Grid_psudo" type="VBoxContainer" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill"]
offset_left = -238.0
offset_top = -288.0
offset_right = -96.0
offset_bottom = 282.0
mouse_filter = 2
theme_override_constants/separation = -35

[node name="Item Icon_0" type="TextureRect" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill/Lottery Required Items Icon Grid_psudo"]
layout_mode = 2
mouse_filter = 2
texture = SubResource("AtlasTexture_4aaut")
expand_mode = 5

[node name="Item Icon_status" type="TextureRect" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill/Lottery Required Items Icon Grid_psudo/Item Icon_0"]
layout_mode = 0
offset_left = 97.0
offset_top = 75.75
offset_right = 137.4762
offset_bottom = 115.75
mouse_filter = 2
texture = ExtResource("17_g23h7")
expand_mode = 3

[node name="Item Icon_1" type="TextureRect" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill/Lottery Required Items Icon Grid_psudo"]
layout_mode = 2
mouse_filter = 2
texture = SubResource("AtlasTexture_4aaut")
expand_mode = 5

[node name="Item Icon_status" type="TextureRect" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill/Lottery Required Items Icon Grid_psudo/Item Icon_1"]
layout_mode = 0
offset_left = 97.0
offset_top = 75.75
offset_right = 137.4762
offset_bottom = 115.75
mouse_filter = 2
texture = ExtResource("17_g23h7")
expand_mode = 3

[node name="Item Icon_2" type="TextureRect" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill/Lottery Required Items Icon Grid_psudo"]
layout_mode = 2
mouse_filter = 2
texture = SubResource("AtlasTexture_4aaut")
expand_mode = 5

[node name="Item Icon_status" type="TextureRect" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill/Lottery Required Items Icon Grid_psudo/Item Icon_2"]
layout_mode = 0
offset_left = 97.0
offset_top = 75.75
offset_right = 137.4762
offset_bottom = 115.75
mouse_filter = 2
texture = ExtResource("17_g23h7")
expand_mode = 3

[node name="Item Icon_3" type="TextureRect" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill/Lottery Required Items Icon Grid_psudo"]
layout_mode = 2
mouse_filter = 2
texture = SubResource("AtlasTexture_4aaut")
expand_mode = 5

[node name="Item Icon_status" type="TextureRect" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill/Lottery Required Items Icon Grid_psudo/Item Icon_3"]
layout_mode = 0
offset_left = 97.0
offset_top = 75.75
offset_right = 137.4762
offset_bottom = 115.75
mouse_filter = 2
texture = ExtResource("17_g23h7")
expand_mode = 3

[node name="Item Icon_4" type="TextureRect" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill/Lottery Required Items Icon Grid_psudo"]
layout_mode = 2
mouse_filter = 2
texture = SubResource("AtlasTexture_4aaut")
expand_mode = 5

[node name="Item Icon_status" type="TextureRect" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill/Lottery Required Items Icon Grid_psudo/Item Icon_4"]
layout_mode = 0
offset_left = 97.0
offset_top = 75.75
offset_right = 137.4762
offset_bottom = 115.75
mouse_filter = 2
texture = ExtResource("17_g23h7")
expand_mode = 3

[node name="ScreenEffectOverlay" type="ColorRect" parent="Lottery Slot_right_screen/Lottery Slot_right_screen_fill"]
material = SubResource("ShaderMaterial_o6rv1")
offset_left = -118.0
offset_top = -306.0
offset_right = 98.0
offset_bottom = 320.0
mouse_filter = 2

[node name="Lottery Slot_top_screen" type="Sprite2D" parent="."]
self_modulate = Color(0.08235294, 0.5254902, 0.43529412, 1)
position = Vector2(13, -409)
texture = ExtResource("18_yfao2")

[node name="Lottery Slot_top_screen_fill" type="Sprite2D" parent="Lottery Slot_top_screen"]
self_modulate = Color(0.61960787, 0.9137255, 0.40392157, 1)
show_behind_parent = true
clip_children = 2
position = Vector2(-7, -6)
texture = ExtResource("19_a03mu")

[node name="Affix Label" type="RichTextLabel" parent="Lottery Slot_top_screen/Lottery Slot_top_screen_fill"]
clip_contents = false
offset_left = -126.0
offset_top = -56.0
offset_right = 261.0
offset_bottom = 67.0
mouse_filter = 2
theme_override_colors/default_color = Color(0.15274194, 0.24557048, 0.08210931, 1)
theme_override_fonts/normal_font = ExtResource("20_3gq3c")
theme_override_font_sizes/normal_font_size = 72
bbcode_enabled = true
text = "FRAGMENTED"
scroll_active = false
autowrap_mode = 0
horizontal_alignment = 2
vertical_alignment = 1
script = ExtResource("26_o6rv1")
max_font_size = 72
min_font_size = 52

[node name="Affix Label_psudo" type="RichTextLabel" parent="Lottery Slot_top_screen/Lottery Slot_top_screen_fill/Affix Label"]
clip_contents = false
layout_mode = 0
offset_top = -125.25
offset_right = 387.0
offset_bottom = -2.25
mouse_filter = 2
theme_override_colors/default_color = Color(0.15274194, 0.24557048, 0.08210931, 1)
theme_override_font_sizes/normal_font_size = 72
bbcode_enabled = true
text = "AFFIX"
scroll_active = false
autowrap_mode = 0
horizontal_alignment = 2
vertical_alignment = 1
script = ExtResource("26_o6rv1")
max_font_size = 72
min_font_size = 52

[node name="Price Label" type="RichTextLabel" parent="Lottery Slot_top_screen/Lottery Slot_top_screen_fill"]
clip_contents = false
offset_left = -182.0
offset_top = -56.0
offset_right = 169.0
offset_bottom = 67.0
mouse_filter = 2
theme_override_colors/default_color = Color(0.15294118, 0.24705882, 0.08235294, 1)
theme_override_fonts/normal_font = ExtResource("20_3gq3c")
theme_override_font_sizes/normal_font_size = 84
bbcode_enabled = true
text = "9[color=blue][font_size=36]▲"
scroll_active = false
vertical_alignment = 1

[node name="Price Label_psudo" type="RichTextLabel" parent="Lottery Slot_top_screen/Lottery Slot_top_screen_fill/Price Label"]
clip_contents = false
layout_mode = 0
offset_top = -125.25
offset_right = 351.0
offset_bottom = -2.25
mouse_filter = 2
theme_override_colors/default_color = Color(0.15294118, 0.24705882, 0.08235294, 1)
theme_override_font_sizes/normal_font_size = 84
bbcode_enabled = true
text = "9"
scroll_active = false
vertical_alignment = 1

[node name="Price Icon" type="Sprite2D" parent="Lottery Slot_top_screen/Lottery Slot_top_screen_fill"]
position = Vector2(-240, 9.75)
texture = ExtResource("20_ihuts")

[node name="ScreenEffectOverlay" type="ColorRect" parent="Lottery Slot_top_screen/Lottery Slot_top_screen_fill"]
material = SubResource("ShaderMaterial_d80ls")
offset_left = -335.0
offset_top = -92.0
offset_right = 314.0
offset_bottom = 101.0
mouse_filter = 2

[node name="Lottery Slot_description_screen" type="Sprite2D" parent="."]
position = Vector2(119, 605.75)
texture = ExtResource("21_4kg5p")

[node name="Lottery Slot_description_screen_fill" type="Sprite2D" parent="Lottery Slot_description_screen"]
self_modulate = Color(0, 0.6509804, 1, 1)
show_behind_parent = true
clip_children = 2
position = Vector2(-7, -7.75)
scale = Vector2(1.01, 1.01)
texture = ExtResource("22_dg1ni")

[node name="Description Label" type="RichTextLabel" parent="Lottery Slot_description_screen/Lottery Slot_description_screen_fill"]
clip_contents = false
offset_left = -375.24756
offset_top = -227.72278
offset_right = 378.21783
offset_bottom = 237.68317
mouse_filter = 2
theme = SubResource("Theme_uwqtw")
theme_override_colors/default_color = Color(0.9098039, 1, 1, 1)
theme_override_fonts/normal_font = ExtResource("20_3gq3c")
theme_override_font_sizes/normal_font_size = 60
bbcode_enabled = true
text = "抽到 [img=60]res://assets/sprites/icons/rarity_epic.png[/img] 及以上品质物品时，所有订单获得 1 次刷新次数。"
scroll_active = false
horizontal_alignment = 1
vertical_alignment = 1

[node name="Description Label_psudo" type="RichTextLabel" parent="Lottery Slot_description_screen/Lottery Slot_description_screen_fill/Description Label"]
layout_mode = 0
offset_left = -783.0
offset_right = -29.534973
offset_bottom = 465.406
mouse_filter = 2
theme_override_colors/default_color = Color(0.9098039, 1, 1, 1)
theme_override_font_sizes/normal_font_size = 60
bbcode_enabled = true
text = "Description goes here"
scroll_active = false
horizontal_alignment = 1
vertical_alignment = 1

[node name="ScreenEffectOverlay" type="ColorRect" parent="Lottery Slot_description_screen/Lottery Slot_description_screen_fill"]
material = SubResource("ShaderMaterial_7jhwx")
offset_left = -501.9802
offset_top = -304.9505
offset_right = 509.0198
offset_bottom = 347.0495
mouse_filter = 2

[node name="Input Area" type="Control" parent="."]
anchors_preset = 0
offset_left = -289.0
offset_top = -235.0
offset_right = 265.0
offset_bottom = 287.0
mouse_default_cursor_shape = 2

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_7v8nc")
}
